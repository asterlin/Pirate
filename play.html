<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>play</title>
	<link rel="stylesheet" href="css/normalize.css">
	<link rel="stylesheet" href="css/play.css">
	<script src="https://cdnjs.cloudflare.com/ajax/libs/ScrollMagic/2.0.6/plugins/animation.gsap.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/ScrollMagic/2.0.6/plugins/debug.addIndicators.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/ScrollMagic/2.0.6/ScrollMagic.min.js"></script>
	<script src="js/p5.js" type="text/javascript"></script>
	<script src="js/p5.play.js" type="text/javascript"></script>
	<script src="js/sketch.js" type="text/javascript"></script>
	<script src="js/sketch.js" type="text/javascript"></script>
	<script src="js/TweenMax.min.js"></script>
    <script src="js/ScrollMagic.min.js"></script>
    <script src="js/debug.addIndicators.min.js"></script>
    <script src="js/animation.gsap.min.js"></script>
	<script src="js/jquery-3.3.1.min.js"></script>
	<style type="text/css">
		.st0{fill:none;stroke:#000000;stroke-miterlimit:10;}
	</style>
</head>
<body>
	<div id="choose">
		<div id="playTitle">
	        <h1 class="titlePri">海賊試煉場</h1>
	    </div>
		
		<div id="playTitleSec">
			<div class="s1">
				<img class="titFrame" src="image/play/titFrame.png" alt="frame">
				<h2 class="titleSec">海賊試煉</h2>
			</div>
			<div class="s2">
				<img class="titFrame" src="image/play/titFrame.png" alt="frame">
				<h2 class="titleSec">啟航尋寶</h2>
			</div>
		</div>

		<div id="gameOrGps">
			<div id="trigger_01"></div>
			<div id="gameArea">
				<div id="element1" class="ele">
					<div class="black"></div>
					<video autobuffer autoloop loop autoplay="autoplay" class="myVideo">
						<source src="image/play/video.mp4">
					</video>
					<div class="blueArea">
						<p>通關獎勵</p>
						<p>金幣 100枚<br>經驗值 50點<br>消耗一點體力點</p>
					</div>
				</div>
				<div id="element2" class="ele">
					<div class="black"></div>
					<video autobuffer autoloop loop autoplay="autoplay" class="myVideo">
						<source src="image/play/video.mp4">
					</video>
					<div class="blueArea">
						<p>通關獎勵</p>
						<p>金幣 200枚<br>經驗值 70點<br>消耗一點體力點</p>
					</div>
				</div>
				<div id="element3" class="ele">
					<div class="black"></div>
					<video autobuffer autoloop loop autoplay="autoplay" class="myVideo">
						<source src="image/play/video.mp4">
					</video>
					<div class="blueArea">
						<p>通關獎勵</p>
						<p>金幣 300枚<br>經驗值 100點<br>消耗一點體力點</p>
					</div>
				</div>
				<img src="image/play/chanlenge1.png" alt="change" id="eleImg1">
				<img src="image/play/chanlenge2.png" alt="change" id="eleImg2">
				<img src="image/play/chanlenge3.png" alt="change" id="eleImg3">
			</div>
			<div id="gpsArea">
				
<?xml version="1.0" encoding="utf-8"?>
<!-- Generator: Adobe Illustrator 21.1.0, SVG Export Plug-In . SVG Version: 6.00 Build 0)  -->
<svg version="1.1" id="圖層_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="450" height="500"
	 viewBox="0 0 383 504
	 " style="enable-background:new 0 0 383 504;" xml:space="preserve">
<style type="text/css">
	.st0{fill:none;stroke:#000000;stroke-miterlimit:10;}
</style>
<path class="st0" d="M153.6,502.5h195.7c76.3-265.3,0-500,0-500H153.6h77.7H35.6c0,0-76.3,234.7,0,500h195.7"/>
</svg>

			</div>
		</div>
	</div>
	
	<div id="game">
		<div id="trigger_02"></div>
		<div id="gameTitle">
			<img class="titFrame" src="image/play/titFrame.png" alt="frame">
			<h2 class="titleSec">海賊試煉</h2>
		</div>
		<div id="playSpark"></div>
		<div id="playArea">
			<img src="image/play/boat.png" alt="boat" id="boat">
			<div id="blueAppear"></div>
			<div id="playShow"></div>
			<div id="playnotice">
				<p>遊戲說明: 避開海軍潛艇的追擊,蒐集金幣抵達終點!</p>
			</div>
			<div class="button_border">
				<div class="border_in">
					<span class="icon_movie">
					</span>
				</div>
				<div class="border_out">
					<svg viewBox="0 0 88 88">
						<path class="border" d="M39.2,86C19.7,83.8,4.2,68.3,2,48.8"></path>
						<path class="border" d="M86,48.8c-2.2,19.5-17.7,35-37.2,37.2"></path>
						<path class="border" d="M48.8,2c19.5,2.2,35,17.7,37.2,37.2"></path>
						<path class="border" d="M2,39.2C4.2,19.7,19.7,4.2,39.2,2"></path>
					</svg>
				</div>
			</div>
		</div>
	</div>
	<div id="rank">
		<div id="rankTitle">
			<img class="titFrame" src="image/play/titFrame.png" alt="frame">
			<h2 class="titleSec">懸賞排行</h2>
			<p>以最快的速度通過海賊試煉,進入懸賞排行成為大家的話題焦點吧</p>
		</div>
		<div id="rankArea">
			<div id="rankList">
				<div id="rankListBox1">
					<span id="gobefore">&larr;中階</span>
					<span id="gonext">中階&rarr;</span>
					<p id="rankListTitle">初階試煉排行</p>
					<p id="rankListColName">
						<span>名次</span>
						<span>ID</span>
						<span>通關秒數</span>
					</p>
				</div>
				<div id="rankListBox2">
					<div id="rankList1">
						<div class="list1 playerList spark">
							<span>1</span>
							<span>林以騰</span>
							<span>34.81秒</span>
						</div>
						<div class="list2 playerList">
							<span>2</span>
							<span>貝多芬</span>
							<span>34.81秒</span>
						</div>
						<div class="list3 playerList">
							<span>3</span>
							<span>拿破崙</span>
							<span>34.81秒</span>
						</div>
						<div class="list4 playerList">
							<span>4</span>
							<span>織田信asd</span>
							<span>34.81秒</span>
						</div>
						<div class="list5 playerList">
							<span>5</span>
							<span>德川家</span>
							<span>34.81秒</span>
						</div>
						<div class="list6 playerList">
							<span>6</span>
							<span>宮本武</span>
							<span>34.81秒</span>
						</div>
						<div class="list7 playerList">
							<span>7</span>
							<span>佐佐木</span>
							<span>34.81秒</span>
						</div>
						<div class="list8 playerList">
							<span>8</span>
							<span>武田勝</span>
							<span>34.81秒</span>
						</div>
						<div class="list9 playerList">
							<span>9</span>
							<span>小早川</span>
							<span>34.81秒</span>
						</div>
						<div class="list10 playerList">
							<span>10</span>
							<span>蘭陵王</span>
							<span>34.81秒</span>
						</div>
					</div>
				</div>
			</div>
			<div id="rankPaper">
				<div id="paperFrame">
					<div class="rank0 rankFrame">
						<img src="image/play/rankPaper.png" alt="frame">
						<img src="image/play/myBoat.png" alt="myBoat" class="myBoat">
						<span class="myName">林以騰</span>
						<span class="myGrade">初階試煉34.81秒</span>
					</div>
					<div class="rank1 rankFrame">
						<img src="image/play/rankPaper.png" alt="frame">
						<img src="image/play/myBoat.png" alt="myBoat" class="myBoat">
						<span class="myName">貝多芬</span>
						<span class="myGrade">初階試煉34.81秒</span>
					</div>
					<div class="rank2 rankFrame">
						<img src="image/play/rankPaper.png" alt="frame">
						<img src="image/play/myBoat.png" alt="myBoat" class="myBoat">
						<span class="myName">拿破崙</span>
						<span class="myGrade">初階試煉34.81秒</span>
					</div>
					<div class="rank3 rankFrame">
						<img src="image/play/rankPaper.png" alt="frame">
						<img src="image/play/myBoat.png" alt="myBoat" class="myBoat">
						<span class="myName">織田信長</span>
						<span class="myGrade">初階試煉34.81秒</span>
					</div>
					<div class="rank4 rankFrame">
						<img src="image/play/rankPaper.png" alt="frame">
						<img src="image/play/myBoat.png" alt="myBoat" class="myBoat">
						<span class="myName">德川家康</span>
						<span class="myGrade">初階試煉34.81秒</span>
					</div>
					<div class="rank5 rankFrame">
						<img src="image/play/rankPaper.png" alt="frame">
						<img src="image/play/myBoat.png" alt="myBoat" class="myBoat">
						<span class="myName">宮本武藏</span>
						<span class="myGrade">初階試煉34.81秒</span>
					</div>
					<div class="rank6 rankFrame">
						<img src="image/play/rankPaper.png" alt="frame">
						<img src="image/play/myBoat.png" alt="myBoat" class="myBoat">
						<span class="myName">佐佐木</span>
						<span class="myGrade">初階試煉34.81秒</span>
					</div>
					<div class="rank7 rankFrame">
						<img src="image/play/rankPaper.png" alt="frame">
						<img src="image/play/myBoat.png" alt="myBoat" class="myBoat">
						<span class="myName">武田勝賴</span>
						<span class="myGrade">初階試煉34.81秒</span>
					</div>
					<div class="rank8 rankFrame">
						<img src="image/play/rankPaper.png" alt="frame">
						<img src="image/play/myBoat.png" alt="myBoat" class="myBoat">
						<span class="myName">小早川秀秋</span>
						<span class="myGrade">初階試煉34.81秒</span>
					</div>
					<div class="rank9 rankFrame">
						<img src="image/play/rankPaper.png" alt="frame">
						<img src="image/play/myBoat.png" alt="myBoat" class="myBoat">
						<span class="myName">蘭陵王</span>
						<span class="myGrade">初階試煉34.81秒</span>
					</div>
				</div>
			</div>
		</div>
	</div>
	<!-- <video autobuffer autoloop loop autoplay="autoplay" class="myVideo">
						<source src="image/play/playVideo.mp4">
					</video> -->
	<script type="js/TweenMaxPlay.js"></script>
	<script>
		var choose=1;
		var animation_01;
		var animation_02;
		var animation_03;
		var animation_04;
		var animation_05;
		var animation_06;
		var animation_07;
		var animation_08;
		var section_01;
		var section_02;
		var section_03;
		var section_04;
		var section_05;
		var section_06;
		var section_07;
		var end;
		var gameStartTimer;
		var controller = new ScrollMagic.Controller();
		$(document).ready(function(){

			animation_04 = TweenMax.to(`#blueAppear`,10, {
						top:0,
			    		left:0,
			    		opacity:1,
					})
			animation_08 = TweenMax.to(`#boat`,10, {
			    		left:120,
					})
			section_04 = new ScrollMagic.Scene({
			        triggerElement: "#trigger_02",
			        duration: 300,
			    }).setTween(animation_04)
			    .addIndicators()
			    .addTo(controller)
			section_04 = new ScrollMagic.Scene({
			        triggerElement: "#trigger_02",
			        duration: 300,
			    }).setTween(animation_08)
			    .addIndicators()
			    .addTo(controller)
				
			$('#element1').mouseover(function(){
				choose = 1;
				console.log(choose);
				$("#element1").css('clipPath','polygon(50px 0, 0 250px, 50px 500px, 400px 500px, 450px 250px, 400px 0)');
				$("#element2").css('clipPath','polygon(300px 0, 350px 250px, 300px 500px, 400px 500px, 450px 250px, 400px 0)');
				$("#element3").css('clipPath','polygon(300px 0, 350px 250px, 300px 500px, 400px 500px, 450px 250px, 400px 0)');
				$("#eleImg1").css('display','block');
				$("#eleImg2").css('display','none');
				$("#eleImg3").css('display','none');
				$("#element1 .black").css('display','none');
				$("#element2 .black").css('display','block');
				$("#element3 .black").css('display','block');
				animation_01 = TweenMax.to(`#element${choose}`,1, {
			    		y: 1000,
			    		x: 28,
			    		webkitClipPath:'polygon(0 0, 0 250px, 0px 500px, 450px 500px, 450px 250px, 450px 0)',
					})
				section_01 = new ScrollMagic.Scene({
			        triggerElement: "#trigger_01",
			        duration: 600,
        			triggerHook: 0
			    }).setTween(animation_01)
			    .addIndicators()
			    .addTo(controller)

			    animation_05 = TweenMax.to(`#eleImg${choose}`,1, {
			    		y: 700,
			    		x: 28,
					})
			    section_05 = new ScrollMagic.Scene({
			        triggerElement: "#trigger_01",
			        duration: 600,
        			triggerHook: 0
			    }).setTween(animation_05)
			    .addIndicators()
			    .addTo(controller)
			    TweenMax.killTweensOf(`#element${2}`);
			    TweenMax.killTweensOf(`#element${3}`);
			});
			$('#element2').mouseover(function(){
				choose=2;
				console.log(choose);
				$("#element1").css('clipPath','polygon(50px 0, 0 250px, 50px 500px, 150px 500px, 100px 250px, 150px 0)');
				$("#element2").css('clipPath','polygon(50px 0, 0 250px, 50px 500px, 400px 500px, 450px 250px, 400px 0)');
				$("#element3").css('clipPath','polygon(300px 0, 350px 250px, 300px 500px, 400px 500px, 450px 250px, 400px 0)');
				$("#eleImg1").css('display','none');
				$("#eleImg2").css('display','block');
				$("#eleImg3").css('display','none');
				$("#element1 .black").css('display','block');
				$("#element2 .black").css('display','none');
				$("#element3 .black").css('display','block');
				animation_02 = TweenMax.to(`#element${choose}`,1, {
			    		y: 1000,
			    		x: -77,
			    		webkitClipPath:'polygon(0 0, 0 250px, 0px 500px, 450px 500px, 450px 250px, 450px 0)',
					})
					section_02 = new ScrollMagic.Scene({
				        triggerElement: "#trigger_01",
				        duration: 600,
	        			triggerHook: 0

				    }).setTween(animation_02)
				    .addIndicators()
				    .addTo(controller)

				animation_06 = TweenMax.to(`#eleImg${choose}`,1, {
			    		y: 700,
			    		x: -77,
					})
			    section_06 = new ScrollMagic.Scene({
			        triggerElement: "#trigger_01",
			        duration: 600,
        			triggerHook: 0
			    }).setTween(animation_06)
			    .addIndicators()
			    .addTo(controller)
			    TweenMax.killTweensOf(`#element${1}`);
			    TweenMax.killTweensOf(`#element${3}`);
			});
			$('#element3').mouseover(function(){
				choose = 3;
				$("#element1").css('clipPath','polygon(50px 0, 0 250px, 50px 500px, 150px 500px, 100px 250px, 150px 0)');
				$("#element2").css('clipPath','polygon(50px 0, 0 250px, 50px 500px, 150px 500px, 100px 250px, 150px 0)');
				$("#element3").css('clipPath','polygon(50px 0, 0 250px, 50px 500px, 400px 500px, 450px 250px, 400px 0)');
				$("#eleImg1").css('display','none');
				$("#eleImg2").css('display','none');
				$("#eleImg3").css('display','block');
				$("#element1 .black").css('display','block');
				$("#element2 .black").css('display','block');
				$("#element3 .black").css('display','none');
				animation_03 = TweenMax.to(`#element${choose}`,1, {
			    		y: 1000,
			    		x: -181,
			    		webkitClipPath:'polygon(0 0, 0 250px, 0px 500px, 450px 500px, 450px 250px, 450px 0)',
					})
					section_03 = new ScrollMagic.Scene({
				        triggerElement: "#trigger_01",
				        duration: 600,
	        			triggerHook: 0

				    }).setTween(animation_03)
				    .addIndicators()
				    .addTo(controller)

				animation_07 = TweenMax.to(`#eleImg${choose}`,1, {
			    		y: 700,
			    		x: -181,
					})
			    section_07 = new ScrollMagic.Scene({
			        triggerElement: "#trigger_01",
			        duration: 600,
        			triggerHook: 0
			    }).setTween(animation_07)
			    .addIndicators()
			    .addTo(controller)
			    TweenMax.killTweensOf(`#element${1}`);
			    TweenMax.killTweensOf(`#element${2}`);
			});
			// spark
			$('.playerList').click(function(e){
				$('.playerList').removeClass('spark');
				$(this).addClass('spark');
				// rankArea
				index = $(this).index();
				count = 10-index;
				console.log('index: ',index,'count: ',count);
				$('.rankFrame').removeClass('rank0').removeClass('rank1').removeClass('rank2').removeClass('rank3').removeClass('rank4').removeClass('rank5').removeClass('rank6').removeClass('rank7').removeClass('rank8').removeClass('rank9');
				for(var i=0; i<=9; i++){
					if(count==10){
						count = 0;
					}
					$('.rankFrame').eq(i).addClass(`rank${count}`);//0->7 1->8 2->9 3->0
					count+=1;
				}
			});
			// playBtn
			$('.button_border').click(function(){
				$('#playSpark').css('clipPath','circle(1900px)');
				gameStartTimer = setInterval(play,1000);
			});
			function play(){
				clearInterval(gameStartTimer);
				$('.button_border').css('display','none');
				$('#defaultCanvas0').css('display','block');
			}

			
		});
		
		


	</script>
</body>
</html>