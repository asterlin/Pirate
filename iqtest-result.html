<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>iqtest-result</title>
	<link rel="stylesheet" href="css/iqtest-result.css">
	<link rel="stylesheet" href="css/wavebtn.css">
</head>
<body>
	<div class="resultSlogan">
		<h1 class="titlePri">你的大腦測驗結果</h1>
	</div>
	<div class="row">
		<div class="col-6">
			<img src="image/iqtest/brain.png" alt="brain" class="brain">
			<p class="abc">B</p>
			<p class="grade">
				<strong class="textHiliR" id="grade">70 </strong>/ 100分
			</p>
			<p class="correctop">
				7題中<strong class="textHiliR" id="correct"> 4 </strong>題正確
			</p>
		</div>
		<div class="col-6">
			<div class="radar">
				<canvas id="chartRadar"></canvas>
			</div>
			<h2 class="titleSec">LV3 聰明的冒險家!</h2>
			<p class="textM">恭喜你成功通過海賊IQ測驗，接下來前方還有更多冒險必須去挑戰。試著在海賊試煉場中通過試煉,獲得經驗值與金錢。<br>等級提升後會獲得技能點數，你可以在我的海賊船頁面中使用點數提升技能。<br>在海上市集中可以使用金錢購買裝備。
			</p>
		</div>
		<a class="btnpri" href="game.html"><span>海賊試煉場</span></a>
	</div>
	<script src="js/wavebtn.js"></script>
	<script src="js/jquery-3.3.1.min.js"></script>
	<script src="js/Chart.bundle.min.js"></script>
	<script>
		var storage = sessionStorage;
		grade = storage['grade'];
		str = parseInt(storage['str']);//力量
		int = parseInt(storage['int']);//智力
		lcu = parseInt(storage['lcu']);//幸運
		agi = parseInt(storage['agi']);//敏捷
		$('#grade').text(`${grade} `);
		$('#correct').text(` ${grade/20} `);

		function radar(){
			//定義變數
			var chartRadarDOM;
			var chartRadarData;
			var chartRadarOptions;
			
		    //載入雷達圖
			Chart.defaults.global.legend.display = false;
			Chart.defaults.global.defaultFontColor = 'rgba(0,0,74, 1)';
			chartRadarDOM = document.getElementById("chartRadar");
			chartRadarData;
			chartRadarOptions = 
			{
				scale: 
				{
					ticks: 
					{
						fontSize: 16,
						beginAtZero: true,
						maxTicksLimit: 7,
						min:0,
						max:100
					},
					pointLabels:
					{
						fontSize: 25,
						color: '#0044BB'
					},
					gridLines: 
					{
						color: '#009FCC'
					}
				}
			};
			
			console.log("---------Rader Data--------");
			var graphData =new Array();
			graphData.push(str);
			graphData.push(int);
			graphData.push(lcu);
			graphData.push(agi);
			
			
			console.log("--------Rader Create-------------");
				
			//CreateData
			chartRadarData = {
		    		labels: [ '力量', '幸運', '敏捷', '智慧'],
				datasets: [{
		    			label: "Skill Level",
					backgroundColor: "rgba(17, 34, 51,0.8)",
					borderColor: "rgba(63,63,74,.8)",
					pointBackgroundColor: "rgba(63,63,74,1)",
		   			pointBorderColor: "rgba(0,0,0,0)",
					pointHoverBackgroundColor: "#fff",
					pointHoverBorderColor: "rgba(0,0,0,0.3)",
					pointBorderWidth: 7,
					data: graphData}]
			};
				
			//Draw
			var chartRadar = new Chart(chartRadarDOM, {
				type: 'radar',
				data: chartRadarData,
				options: chartRadarOptions
				});
		}

		function init() {
		    radar();
		}
		window.onload = init;
	</script>
</body>
</html>